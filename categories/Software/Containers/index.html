<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Category: Containers - azec.me | Blog by Amer Zec</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="azec.me | Blog by Amer Zec"><meta name="msapplication-TileImage" content="/img/favicon-128.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="azec.me | Blog by Amer Zec"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="Engineering, outdoors, and technology insights by Amer Zec"><meta property="og:type" content="blog"><meta property="og:title" content="azec.me | Blog by Amer Zec"><meta property="og:url" content="https://azec.me/"><meta property="og:site_name" content="azec.me"><meta property="og:description" content="Engineering, outdoors, and technology insights by Amer Zec"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://azec.me/img/stenciler.jpg"><meta property="article:author" content="Amer Zec"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="https://azec.me/img/stenciler.jpg"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://azec.me"},"headline":"azec.me | Blog by Amer Zec","image":["https://azec.me/img/stenciler.jpg"],"author":{"@type":"Person","name":"Amer Zec"},"description":"Engineering, outdoors, and technology insights by Amer Zec"}</script><link rel="alternate" href="/atom.xml" title="azec.me | Blog by Amer Zec" type="application/atom+xml"><link rel="icon" href="/img/favicon-128.png"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><meta name="generator" content="Hexo 5.4.2"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/favicon-512.png" alt="azec.me | Blog by Amer Zec" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><div class="card-content"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/categories">Categories</a></li><li><a href="/categories/Software/">Software</a></li><li class="is-active"><a href="#" aria-current="page">Containers</a></li></ul></nav></div></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2026-01-25T06:22:19.000Z" title="1/24/2026, 10:22:19 PM">2026-01-24</time></span><span class="level-item">Updated&nbsp;<time dateTime="2026-02-08T01:03:20.736Z" title="2/7/2026, 5:03:20 PM">2026-02-07</time></span><span class="level-item"><a class="link-muted" href="/categories/Software/">Software</a><span> / </span><a class="link-muted" href="/categories/Software/Containers/">Containers</a></span><span class="level-item">6 minutes read (About 933 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2026/01/24/Docker-CLI-API-version-compatibility-with-Podman-engine/">Docker CLI and API version (in)compatibility with Podman Engine</a></h1><div class="content"><p>Ok, this should be a quick one, but it got me at least twice so far, so it’s time to note it down.<br>Recently I updated both Podman Desktop (<code>1.24.2</code>) as well as Podman machine (after being 16+ months old).<br>However, there was no updates to the Podman engine (currently at <code>5.7.1</code>).</p>
<p>I am using Docker CLI on macOS for all interaction with local images and containers, as Podman ensures API forwarding listening on <code>/var/run/docker.sock</code>.<br>Docker API clients (such is Docker CLI) default to this address. In most instances, you don’t need to set <code>DOCKER_HOST</code>.</p>
<p>Needless to say, just yesterday I also updated Docker CLI (<code>29.1.5</code>).</p>
<p>Until all of these updates, any Docker CLI command (such as <code>docker images</code> or <code>docker image ls</code>) was working without issues.<br>However, after the updates, I started getting this error:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">❯ docker images</span><br><span class="line"></span><br><span class="line">API version 1.41 is not supported by this client: the minimum supported API version is 1.44</span><br></pre></td></tr></table></figure>

<p>I was able to find a hint about solution, although in different context, thanks to this <a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/79817033/sudden-docker-error-about-client-api-version">SO question</a>. Solution suggests that by placing <code>&#123;&quot;min-api-version&quot;: &quot;1.44&quot;&#125;</code> inside <code>~/.config/docker/daemon.json</code> or <code>~/.docker/daemon.json</code> should make this issue go away. However, I had doubts that in my scenario that would help, because I am not using Docker engine (no Docker Desktop) and I don’t think that <code>daemon.json</code> configs are acknowledged by Podman.</p>
<p>Before going further into solutions, I really wanted to understand what is going on.<br>Quick look at output of <code>docker version</code> and things started to make sense.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">❯ docker version</span><br><span class="line"></span><br><span class="line"> Client: Docker Engine - Community</span><br><span class="line"> Version:           29.1.5            &lt;----- Version of Docker CLI (also confirmed via <span class="string">&#x27;brew info docker&#x27;</span>)</span><br><span class="line"> API version:       1.52              &lt;----- API version that Docker CLI is configured <span class="keyword">for</span></span><br><span class="line"> Go version:        go1.25.6</span><br><span class="line"> Git commit:        0e6fee6c52</span><br><span class="line"> Built:             Tue Dec 16 15:33:03 2025</span><br><span class="line"> OS/Arch:           darwin/arm64</span><br><span class="line"> Context:           default</span><br><span class="line"></span><br><span class="line">Server: linux/arm64/fedora-43</span><br><span class="line"> Podman Engine:</span><br><span class="line">  Version:          5.7.1</span><br><span class="line">  APIVersion:       5.7.1</span><br><span class="line">  Arch:             arm64</span><br><span class="line">  BuildTime:        2025-12-08T16:00:00-08:00</span><br><span class="line">  Experimental:     <span class="literal">false</span></span><br><span class="line">  GitCommit:        f845d14e941889ba4c071f35233d09b29d363c75</span><br><span class="line">  GoVersion:        go1.25.4 X:nodwarf5</span><br><span class="line">  KernelVersion:    6.17.7-300.fc43.aarch64</span><br><span class="line">  MinAPIVersion:    4.0.0</span><br><span class="line">  Os:               linux</span><br><span class="line"> Conmon:</span><br><span class="line">  Version:          conmon version 2.1.13, commit:</span><br><span class="line">  Package:          conmon-2.1.13-2.fc43.aarch64</span><br><span class="line"> OCI Runtime (crun):</span><br><span class="line">  Version:          crun version 1.24</span><br><span class="line">commit: 54693209039e5e04cbe3c8b1cd5fe2301219f0a1</span><br><span class="line">rundir: /run/user/501/crun</span><br><span class="line">spec: 1.0.0</span><br><span class="line">+SYSTEMD +SELINUX +APPARMOR +CAP +SECCOMP +EBPF +CRIU +LIBKRUN +WASM:wasmedge +YAJL</span><br><span class="line">  Package:          crun-1.24-1.fc43.aarch64</span><br><span class="line"> Engine:</span><br><span class="line">  Version:          5.7.1              &lt;----- Version of Podman engine (also confirmed via <span class="string">&#x27;brew info podman&#x27;</span>)</span><br><span class="line">  API version:      1.41 (minimum version 1.24)  &lt;----- Version of Docker Engine API that Podman engine is working with </span><br><span class="line">  Go version:</span><br><span class="line">  Git commit:</span><br><span class="line">  Built:</span><br><span class="line">  OS/Arch:          linux/arm64</span><br><span class="line">  Experimental:</span><br></pre></td></tr></table></figure>

<p>So what are we dealing with here?</p>
<ul>
<li><p>Docker CLI <code>v29.1.5</code> (released on Jan 16, 2026) is configured with current maximum Docker Engine API version, which is <code>1.52</code></p>
</li>
<li><p>When this was released, they bumped the minimal supported Docker Engine API version to <code>1.44</code> (see <a target="_blank" rel="noopener" href="https://forums.docker.com/t/docker-29-increased-minimum-api-version-breaks-traefik-reverse-proxy/150384">this</a> for additional evidence).</p>
</li>
<li><p>Podman Engine <code>v5.7.1</code> (released on Dec 8th, 2025) is still configured for compatibility with Docker Engine API version <code>1.41</code>, but it will work with min Docker Engine API version <code>1.24</code>. I was also able to confirm this in Podman’s <a target="_blank" rel="noopener" href="https://github.com/containers/podman/blob/main/version/version.go#L43-L44">podman/version/version.go</a>. Alternative way to confirm this is with the command below:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">❯ curl --silent -XGET --unix-socket /var/run/docker.sock http://localhost/version | jq .</span><br><span class="line">  &#123;</span><br><span class="line">  <span class="string">&quot;Platform&quot;</span>: &#123;</span><br><span class="line">      <span class="string">&quot;Name&quot;</span>: <span class="string">&quot;linux/arm64/fedora-43&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">&quot;Components&quot;</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">      <span class="string">&quot;Name&quot;</span>: <span class="string">&quot;Podman Engine&quot;</span>,</span><br><span class="line">      <span class="string">&quot;Version&quot;</span>: <span class="string">&quot;5.7.1&quot;</span>,</span><br><span class="line">      <span class="string">&quot;Details&quot;</span>: &#123;</span><br><span class="line">          <span class="string">&quot;APIVersion&quot;</span>: <span class="string">&quot;5.7.1&quot;</span>,</span><br><span class="line">          <span class="string">&quot;Arch&quot;</span>: <span class="string">&quot;arm64&quot;</span>,</span><br><span class="line">          <span class="string">&quot;BuildTime&quot;</span>: <span class="string">&quot;2025-12-08T16:00:00-08:00&quot;</span>,                   &lt;---- Build <span class="keyword">time</span></span><br><span class="line">          <span class="string">&quot;Experimental&quot;</span>: <span class="string">&quot;false&quot;</span>,</span><br><span class="line">          <span class="string">&quot;GitCommit&quot;</span>: <span class="string">&quot;f845d14e941889ba4c071f35233d09b29d363c75&quot;</span>,</span><br><span class="line">          <span class="string">&quot;GoVersion&quot;</span>: <span class="string">&quot;go1.25.4 X:nodwarf5&quot;</span>,</span><br><span class="line">          <span class="string">&quot;KernelVersion&quot;</span>: <span class="string">&quot;6.17.7-300.fc43.aarch64&quot;</span>,</span><br><span class="line">          <span class="string">&quot;MinAPIVersion&quot;</span>: <span class="string">&quot;4.0.0&quot;</span>,</span><br><span class="line">          <span class="string">&quot;Os&quot;</span>: <span class="string">&quot;linux&quot;</span></span><br><span class="line">      &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">      <span class="string">&quot;Name&quot;</span>: <span class="string">&quot;Conmon&quot;</span>,</span><br><span class="line">      <span class="string">&quot;Version&quot;</span>: <span class="string">&quot;conmon version 2.1.13, commit: &quot;</span>,</span><br><span class="line">      <span class="string">&quot;Details&quot;</span>: &#123;</span><br><span class="line">          <span class="string">&quot;Package&quot;</span>: <span class="string">&quot;conmon-2.1.13-2.fc43.aarch64&quot;</span></span><br><span class="line">      &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">      <span class="string">&quot;Name&quot;</span>: <span class="string">&quot;OCI Runtime (crun)&quot;</span>,</span><br><span class="line">      <span class="string">&quot;Version&quot;</span>: <span class="string">&quot;crun version 1.24\ncommit: 54693209039e5e04cbe3c8b1cd5fe2301219f0a1\nrundir: /run/user/501/crun\nspec: 1.0.0\n+SYSTEMD +SELINUX +APPARMOR +CAP +SECCOMP +EBPF +CRIU +LIBKRUN +WASM:wasmedge +YAJL&quot;</span>,</span><br><span class="line">      <span class="string">&quot;Details&quot;</span>: &#123;</span><br><span class="line">          <span class="string">&quot;Package&quot;</span>: <span class="string">&quot;crun-1.24-1.fc43.aarch64&quot;</span></span><br><span class="line">      &#125;</span><br><span class="line">      &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="string">&quot;Version&quot;</span>: <span class="string">&quot;5.7.1&quot;</span>,</span><br><span class="line">  <span class="string">&quot;ApiVersion&quot;</span>: <span class="string">&quot;1.41&quot;</span>,                 &lt;----- THIS LINE</span><br><span class="line">  <span class="string">&quot;MinAPIVersion&quot;</span>: <span class="string">&quot;1.24&quot;</span>,              &lt;----- AND THIS LINE</span><br><span class="line">  <span class="string">&quot;GitCommit&quot;</span>: <span class="string">&quot;f845d14e941889ba4c071f35233d09b29d363c75&quot;</span>,</span><br><span class="line">  <span class="string">&quot;GoVersion&quot;</span>: <span class="string">&quot;go1.25.4 X:nodwarf5&quot;</span>,</span><br><span class="line">  <span class="string">&quot;Os&quot;</span>: <span class="string">&quot;linux&quot;</span>,</span><br><span class="line">  <span class="string">&quot;Arch&quot;</span>: <span class="string">&quot;arm64&quot;</span>,</span><br><span class="line">  <span class="string">&quot;KernelVersion&quot;</span>: <span class="string">&quot;6.17.7-300.fc43.aarch64&quot;</span>,</span><br><span class="line">  <span class="string">&quot;BuildTime&quot;</span>: <span class="string">&quot;2025-12-08T16:00:00-08:00&quot;</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>Basically, this new version of Docker CLI is capable of working with API versions [1.52, 1.44]. Podman Engine is expecting [1.41, 1.24].<br>And you can see that Podman team is already working on fixing this, in commit <a target="_blank" rel="noopener" href="https://github.com/containers/podman/commit/c9e20280ed2de26ed442a5a335e49a5dafede024">c9e2028</a>.</p>
<p>For the solution, I simply configured my <code>~/.zshrc</code> to set <code>DOCKER_API_VERSION</code> to <code>1.44</code>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">❯ <span class="built_in">cat</span> ~/.zshrc | grep DOCKER</span><br><span class="line"><span class="built_in">export</span> DOCKER_API_VERSION=1.44</span><br></pre></td></tr></table></figure>

<p>The <code>DOCKER_API_VERSION</code> environment variable is used to force the Docker client to use a specific version of the API when communicating with the Docker daemon (in my case Podman Engine). By default, the Docker client and SDKs use API version negotiation to automatically select a version supported by both the client and the Docker Engine. However, setting <code>DOCKER_API_VERSION</code> disables this negotiation and locks the client to the specified version.<br>Aside from possibility to be used for feature controls, the primary use of this env var is to resolve “client and server don’t have the same version” errors, which can occur if the client is newer than the daemon. If the client is newer than the daemon, the client can request API endpoints that the daemon doesn’t know about.</p>
<p>After this, everything started working again.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">❯ docker images</span><br><span class="line">                                                                                i Info →   U  In Use</span><br><span class="line">IMAGE                         ID             DISK USAGE   CONTENT SIZE   EXTRA</span><br><span class="line">quay.io/podman/hello:latest   83fc7ce1224f        580kB             0B    U</span><br></pre></td></tr></table></figure>

</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2026-01-24T21:42:52.000Z" title="1/24/2026, 1:42:52 PM">2026-01-24</time></span><span class="level-item">Updated&nbsp;<time dateTime="2026-02-08T01:03:20.737Z" title="2/7/2026, 5:03:20 PM">2026-02-07</time></span><span class="level-item"><a class="link-muted" href="/categories/Software/">Software</a><span> / </span><a class="link-muted" href="/categories/Software/Containers/">Containers</a></span><span class="level-item">5 minutes read (About 761 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2026/01/24/Using-Podman-with-GPU-intensive-containers/">Using Podman with GPU intensive containers</a></h1><div class="content"><p>While troubleshooting issue with Docker CLI (macOS) API version compatibility with newer versions of Podman, I have learned that the default Podman machine (a.k.a Podman engine) that I am running is over 16 months old. While updating Podman machine (actually creating new Podman machine) didn’t make the original problem go away, I learned something new through this process, which I want to document here, because it seems not too many Podman users are aware of this (yet! and it’s 2026). </p>
<p>Ok, so first I deleted “default podman machine” and I was ready to create new one in Podman Desktop UI. <strong><em>Settings &gt; Resources &gt; Create new …</em></strong></p>
<p>But then I noticed this warning:</p>
<blockquote>
<p>There is an problem finding ‘krunkit’ binary. Try to install it manualy, or install Podman from installer.</p>
</blockquote>
<p><img src="/2026/01/24/Using-Podman-with-GPU-intensive-containers/krunkit-missing.png" alt="Missing &#39;krunkit&#39;"></p>
<p>So quick googling about what this means and I learn that (starting versions 5.2.x of Podman) besides Apple Hypervisor (<code>applehv</code>), which relies on <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/virtualization">Virtualization.framework</a>, they now allow to use alternative provider (meaning, virtualization provider) for macOS. That alternative provider relies on customizations on top of <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/hypervisor">Hypervisor.framework</a>, which is lower level API (than <code>Virtualization.framework</code>) from Apple.</p>
<p>“AppleHV” (short for Apple Hypervisor) refers to the native virtualization framework built into macOS, allowing software to run virtual machines (VMs) and containers directly on Apple hardware and it is default provider (for Podman engine virtualization) on all platforms other than Apple Sillicon. Some of the things it provides are:</p>
<ul>
<li><strong>Native Virtualization:</strong> It provides a low-level, native way to manage virtualization, often using Apple’s <code>Virtualization.framework</code>.</li>
<li><strong>Podman Usage:</strong> AppleHV is commonly used as the backend provider for Podman Machine on macOS (especially with Podman v4.9.1+ and v5.x). It is often used in combination with tools like <code>vfkit</code> to create and run Linux virtual machines.</li>
<li><strong>Performance (Rosetta):</strong> On Apple Silicon (M1/M2/M3 chips), AppleHV supports <strong>Rosetta 2</strong>, allowing for near-native speed when running x86_64 containers on ARM hardware.</li>
<li><strong>Alternatives:</strong> It is the modern alternative to <strong>QEMU</strong>, which was previously the standard, often providing better performance.</li>
</ul>
<p>While Apple Hypervisor is still great on Apple Sillicon Macs for “cookie cutter” containers that mostly just need CPU, those who want to leverage GPUs on their Mac (e.g. to run LLM models through Docker/Podman) might want to take advantage of this alternative provider.</p>
<p>The alternative provider relies on two important things (also prerequisites to be able to use this provider when creating new Podman machine):</p>
<ol>
<li><a target="_blank" rel="noopener" href="https://github.com/containers/libkrun">containers/libkrun</a> - a dynamic library that allows programs to easily acquire the ability to run processes in a partially isolated environment using <code>KVM</code> Virtualization on Linux and <a target="_blank" rel="noopener" href="https://developer.apple.com/documentation/hypervisor">HVF</a> on macOS/ARM64.</li>
<li><a target="_blank" rel="noopener" href="https://github.com/containers/krunkit">containers/krunkit</a> -  is a tool to launch configurable virtual machines using the <code>libkrun</code> platform.</li>
</ol>
<p>The latter of the two is required in order to be able to run Podman machines with this new alternative provider.<br>The installation was very simple.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">brew tap slp/krunkit</span><br><span class="line">brew install krunkit</span><br></pre></td></tr></table></figure>

<p>Restarting Podman Desktop and going to <strong><em>Settings &gt; Resources &gt; Create new…</em></strong> this time didn’t show the warning, which is signal that it properly detected <code>libkrun</code> and <code>krunkit</code>. However, first attempt to create Podman machine wiht “<em>default GPU enabled (LibKrun)</em>“ as a provider, didn’t work out as expected.<br>The machine got frozen in “<em>Currently starting up</em>“ stage forever. I had to force remove it, reboot and re-create podman machine.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Delete stuck machine</span></span><br><span class="line">podman machine <span class="built_in">rm</span> --force podman-machine-gpu-enabled</span><br><span class="line"><span class="comment"># Reboot</span></span><br><span class="line"><span class="comment"># Create again via Podman Desktop</span></span><br><span class="line"><span class="comment"># Start</span></span><br><span class="line">podman machine start podman-machine-gpu</span><br></pre></td></tr></table></figure>

<p><img src="/2026/01/24/Using-Podman-with-GPU-intensive-containers/podman-machine-running.png" alt="New Podman machine running and using &#39;libkrun&#39;"></p>
<p>After this, I was able to see that machine is running and it is using <code>libkrun</code> for VM provider.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">podman machine list</span><br><span class="line"></span><br><span class="line">NAME                 VM TYPE     CREATED            LAST UP            CPUS        MEMORY      DISK SIZE</span><br><span class="line">podman-machine-gpu*  libkrun     About an hour ago  Currently running  4           7.451GiB    27GiB</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>So now, I am ready to try out some LLM models loaded via Docker/Podman. This will be exciting, because up till now, I ran most local models via <a target="_blank" rel="noopener" href="https://ollama.com/">ollama</a> and <a target="_blank" rel="noopener" href="https://lmstudio.ai/">LM Studio</a>.</p>
<h3><a href="#resources" class="header-anchor">✎</a><span id="resources">Resources</span></h3><ol>
<li><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=OyTJ8FtQaJ0">GPU Accelerated Containers on Apple Silicon with libkrun and podman machine - DevConf.US 2024</a></li>
<li><a target="_blank" rel="noopener" href="https://developers.redhat.com/articles/2025/06/05/how-we-improved-ai-inference-macos-podman-containers#">How we improved AI inference on macOS Podman containers</a></li>
</ol>
</div></article></div></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/img/squared.jpg" alt="azec.me"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">azec.me</p><p class="is-size-6 is-block">Engineering &amp; Outdoors</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>WA, USA</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">7</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">8</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">23</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/azec-pdx/" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/azec-pdx"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Stack Overflow" href="https://stackoverflow.com/users/126382/azec-pdx"><i class="fab fa-stack-overflow"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="LinkedIn" href="https://www.linkedin.com/in/azec-pdx"><i class="fab fa-linkedin-in"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Strava" href="https://www.strava.com/athletes/143126037"><i class="fab fa-strava"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Add me on Discord!" href="https://discord.com/users/1045128734975463456"><i class="fab fa-discord"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="GPG Keys" href="https://azec.me/about/"><i class="fas fa-key"></i></a></div></div></div><!--!--><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://azec.me/atom.xml" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Atom Feed</span></span><span class="level-right"><span class="level-item tag">azec.me</span></span></a></li><li><a class="level is-mobile" href="https://azec.me/rss2.xml" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">RSS Feed</span></span><span class="level-right"><span class="level-item tag">azec.me</span></span></a></li></ul></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/Outdoors/"><span class="level-start"><span class="level-item">Outdoors</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/Outdoors/Running/"><span class="level-start"><span class="level-item">Running</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Software/"><span class="level-start"><span class="level-item">Software</span></span><span class="level-end"><span class="level-item tag">4</span></span></a><ul><li><a class="level is-mobile" href="/categories/Software/Containers/"><span class="level-start"><span class="level-item">Containers</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Software/Security/"><span class="level-start"><span class="level-item">Security</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Tools/"><span class="level-start"><span class="level-item">Tools</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul><li><a class="level is-mobile" href="/categories/Tools/Productivity/"><span class="level-start"><span class="level-item">Productivity</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/Travel/"><span class="level-start"><span class="level-item">Travel</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><figure class="media-left"><a class="image" href="/2026/01/24/Docker-CLI-API-version-compatibility-with-Podman-engine/"><img src="/2026/01/24/Docker-CLI-API-version-compatibility-with-Podman-engine/podman_logo.png" alt="Docker CLI and API version (in)compatibility with Podman Engine"></a></figure><div class="media-content"><p class="date"><time dateTime="2026-01-25T06:22:19.000Z">2026-01-24</time></p><p class="title"><a href="/2026/01/24/Docker-CLI-API-version-compatibility-with-Podman-engine/">Docker CLI and API version (in)compatibility with Podman Engine</a></p><p class="categories"><a href="/categories/Software/">Software</a> / <a href="/categories/Software/Containers/">Containers</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2026/01/24/Using-Podman-with-GPU-intensive-containers/"><img src="/2026/01/24/Using-Podman-with-GPU-intensive-containers/containers.png" alt="Using Podman with GPU intensive containers"></a></figure><div class="media-content"><p class="date"><time dateTime="2026-01-24T21:42:52.000Z">2026-01-24</time></p><p class="title"><a href="/2026/01/24/Using-Podman-with-GPU-intensive-containers/">Using Podman with GPU intensive containers</a></p><p class="categories"><a href="/categories/Software/">Software</a> / <a href="/categories/Software/Containers/">Containers</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2025/11/26/Favorite-PDF-tools-on-macOS-in-2026/"><img src="/2025/11/26/Favorite-PDF-tools-on-macOS-in-2026/toolbox.png" alt="Favorite PDF tools on macOS in 2026"></a></figure><div class="media-content"><p class="date"><time dateTime="2025-11-26T20:57:56.000Z">2025-11-26</time></p><p class="title"><a href="/2025/11/26/Favorite-PDF-tools-on-macOS-in-2026/">Favorite PDF tools on macOS in 2026</a></p><p class="categories"><a href="/categories/Tools/">Tools</a> / <a href="/categories/Tools/Productivity/">Productivity</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2021/05/11/Using-YubiKey-with-GitHub/"><img src="/2021/05/11/Using-YubiKey-with-GitHub/yubikey-and-github.png" alt="Using YubiKey with GitHub"></a></figure><div class="media-content"><p class="date"><time dateTime="2021-05-11T15:01:00.000Z">2021-05-11</time></p><p class="title"><a href="/2021/05/11/Using-YubiKey-with-GitHub/">Using YubiKey with GitHub</a></p><p class="categories"><a href="/categories/Software/">Software</a> / <a href="/categories/Software/Security/">Security</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2021/05/10/PGP-with-YubiKey-Keybase-Protonmail/"><img src="/2021/05/10/PGP-with-YubiKey-Keybase-Protonmail/yubikey-and-keybase-and-proton.png" alt="PGP with YubiKey &amp; Keybase &amp; Protonmail"></a></figure><div class="media-content"><p class="date"><time dateTime="2021-05-11T01:30:40.000Z">2021-05-10</time></p><p class="title"><a href="/2021/05/10/PGP-with-YubiKey-Keybase-Protonmail/">PGP with YubiKey &amp; Keybase &amp; Protonmail</a></p><p class="categories"><a href="/categories/Software/">Software</a> / <a href="/categories/Software/Security/">Security</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2026/01/"><span class="level-start"><span class="level-item">January 2026</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2025/11/"><span class="level-start"><span class="level-item">November 2025</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/05/"><span class="level-start"><span class="level-item">May 2021</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/04/"><span class="level-start"><span class="level-item">April 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/09/"><span class="level-start"><span class="level-item">September 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Asia/"><span class="tag">Asia</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/China/"><span class="tag">China</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Columbia-Gorge/"><span class="tag">Columbia Gorge</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Containers/"><span class="tag">Containers</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Encryption/"><span class="tag">Encryption</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/FOSS/"><span class="tag">FOSS</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/GPG/"><span class="tag">GPG</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/GitHub/"><span class="tag">GitHub</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Keybase/"><span class="tag">Keybase</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/PDF/"><span class="tag">PDF</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/PDX/"><span class="tag">PDX</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/PGP/"><span class="tag">PGP</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Podman/"><span class="tag">Podman</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Privacy/"><span class="tag">Privacy</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ProtonMail/"><span class="tag">ProtonMail</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Reading/"><span class="tag">Reading</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Running/"><span class="tag">Running</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Vacation/"><span class="tag">Vacation</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/YubiKey/"><span class="tag">YubiKey</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/git/"><span class="tag">git</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/macOS/"><span class="tag">macOS</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ssh/"><span class="tag">ssh</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/tools/"><span class="tag">tools</span><span class="tag">1</span></a></div></div></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">Subscribe for updates</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=azec-pdx&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="azec-pdx" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="Subscribe"></div></div></form></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/favicon-512.png" alt="azec.me | Blog by Amer Zec" height="28"></a><p class="is-size-7"><span>&copy; 2026 Amer Zec</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="E-Mail" href="mailto:amerzec+jobs@gmail.com"><i class="far fa-envelope"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>